"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[930],{8453(e,t,l){l.d(t,{R:()=>i,x:()=>d});var s=l(6540);const n={},r=s.createContext(n);function i(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(r.Provider,{value:t},e.children)}},9914(e,t,l){l.r(t),l.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>i,metadata:()=>s,toc:()=>x});const s=JSON.parse('{"id":"reference/useQuery","title":"useQuery","description":"Subscribes to a query and returns the current state.","source":"@site/docs/reference/useQuery.md","sourceDirName":"reference","slug":"/reference/useQuery","permalink":"/docs/reference/useQuery","draft":false,"unlisted":false,"editUrl":"https://github.com/braine/quantum-query/tree/main/website/docs/reference/useQuery.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"useMutation","permalink":"/docs/reference/useMutation"},"next":{"title":"useStore","permalink":"/docs/reference/useStore"}}');var n=l(4848),r=l(8453);const i={},d="useQuery",c={},x=[{value:"Options",id:"options",level:2},{value:"Returns",id:"returns",level:2}];function h(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"usequery",children:"useQuery"})}),"\n",(0,n.jsx)(t.p,{children:"Subscribes to a query and returns the current state."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-tsx",children:"const { data, isLoading, error } = useQuery(options)\n"})}),"\n",(0,n.jsx)(t.h2,{id:"options",children:"Options"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Default"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"queryKey"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`readonly unknown[]`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"Required"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Unique key for the query."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"queryFn"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`() => Promise<T>`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"Required"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The function that fetches data."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"enabled"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`boolean`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`true`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Set to `false` to disable automatic triggering."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"staleTime"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`number`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`0`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Time in ms before data is considered stale."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"cacheTime"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`number`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`300,000`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Time in ms unused data remains in memory (5 mins)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"refetchInterval"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`number`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`false`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"If set, refetches every N milliseconds."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"refetchOnWindowFocus"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`boolean`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`true`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Refetch when window gains focus."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"refetchOnReconnect"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`boolean`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`true`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Refetch when network reconnects."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"select"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`(data: T) => R`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"-"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Transform/Select data. ",(0,n.jsx)(t.strong,{children:"Optimizes renders."})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"initialData"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`T`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"-"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Initial data to populate the cache."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"placeholderData"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`T`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"-"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Data to show while loading (not cached)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"retry"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`boolean"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"number`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`3`"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"retryDelay"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`number"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"(attempt) => number`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"-"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"tags"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`string[]`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"-"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Tags for O(1) group invalidation."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"schema"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`Schema<T>`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"-"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Zod-compatible validation schema."})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"returns",children:"Returns"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"data"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`T`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The resolved data."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"error"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`Error`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The error object if state is 'error'."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"status"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`'pending' | 'success' | 'error'`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"High-level status."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"isLoading"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`boolean`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"True if finding data for the first time."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"isFetching"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`boolean`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"True if any request is in flight."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"isStale"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`boolean`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"True if data is older than `staleTime`."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"refetch"})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"`() => Promise`"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Function to manually trigger a refetch."})]})]})]})]})}function o(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);