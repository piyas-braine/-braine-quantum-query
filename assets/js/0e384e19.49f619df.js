"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[976],{2053(e,t,n){n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"intro","title":"Introduction","description":"State Management at the Speed of Light.","source":"@site/docs/intro.md","sourceDirName":".","slug":"/","permalink":"/-braine-quantum-query/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"slug":"/","sidebar_position":1,"title":"Introduction"},"sidebar":"tutorialSidebar","next":{"title":"API Reference","permalink":"/-braine-quantum-query/api"}}');var s=n(4848),i=n(8453);const l={slug:"/",sidebar_position:1,title:"Introduction"},o="Quantum Query",d={},c=[{value:"\u26a1\ufe0f Why &quot;Quantum&quot;?",id:"\ufe0f-why-quantum",level:2},{value:"\ud83d\udce6 Installation",id:"-installation",level:2},{value:"\ud83d\ude80 Quick Start (React Hooks)",id:"-quick-start-react-hooks",level:2},{value:"\ud83e\udde0 The &quot;Smart Model&quot; Pattern (Advanced)",id:"-the-smart-model-pattern-advanced",level:2},{value:"1. Define Model",id:"1-define-model",level:3},{value:"2. Use Model",id:"2-use-model",level:3},{value:"\ud83c\udf10 Enterprise HTTP Client",id:"-enterprise-http-client",level:2},{value:"\ud83d\udee1\ufe0f Data Integrity (Runtime Safety)",id:"\ufe0f-data-integrity-runtime-safety",level:2},{value:"\ud83d\udd0c Plugin System (Middleware) \ud83c\udd95",id:"-plugin-system-middleware-",level:2},{value:"\ud83d\udcbe Persistence Adapter \ud83c\udd95",id:"-persistence-adapter-",level:2},{value:"\ud83d\udcda Documentation",id:"-documentation",level:2},{value:"\ud83c\udd9a Comparison",id:"-comparison",level:2},{value:"License",id:"license",level:2}];function a(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"quantum-query",children:"Quantum Query"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"State Management at the Speed of Light."})}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:"A unified, signal-based architecture that merges Store, Actions, and API Logic into a single, high-performance ecosystem."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://www.npmjs.com/package/@braine/quantum-query",children:(0,s.jsx)(t.img,{src:"https://img.shields.io/npm/v/@braine/quantum-query.svg",alt:"npm version"})}),"\n",(0,s.jsx)(t.a,{href:"https://opensource.org/licenses/MIT",children:(0,s.jsx)(t.img,{src:"https://img.shields.io/badge/License-MIT-yellow.svg",alt:"License: MIT"})})]}),"\n",(0,s.jsx)(t.h2,{id:"\ufe0f-why-quantum",children:'\u26a1\ufe0f Why "Quantum"?'}),"\n",(0,s.jsx)(t.p,{children:'Existing libraries (Redux, RTK Query) behave like "Buses". They stop at every station (component) to check if someone needs to get off (re-render via O(n) selectors).'}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Quantum-Query"})," behaves like a teleporter. It updates ",(0,s.jsx)(t.em,{children:"only"})," the specific component listening to a specific property, instantly."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"O(1) Reactivity"}),': Powered by Atomic Signals. Zero selectors. No "Top-Down" re-renders.']}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Zero Boilerplate"}),": No reducers, no providers, no slices, no thunks."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Enterprise Ecosystem"}),": Persistence, Plugins, Deduplication, and Validation included."]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"-installation",children:"\ud83d\udce6 Installation"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"npm install @braine/quantum-query\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"-quick-start-react-hooks",children:"\ud83d\ude80 Quick Start (React Hooks)"}),"\n",(0,s.jsx)(t.p,{children:"If you just want to fetch data, it works exactly like you expect."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"import { useQuery } from '@braine/quantum-query';\n\nfunction UserProfile({ id }) {\n    const { data, isLoading } = useQuery({\n        queryKey: ['user', id],\n        queryFn: () => fetch(`/api/user/${id}`).then(r => r.json()),\n        staleTime: 5000 // Auto-cache for 5s\n    });\n\n    if (isLoading) return <div>Loading...</div>;\n    return <div>Hello, {data.name}!</div>;\n}\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"-the-smart-model-pattern-advanced",children:'\ud83e\udde0 The "Smart Model" Pattern (Advanced)'}),"\n",(0,s.jsxs)(t.p,{children:["Stop splitting your logic between Redux (Client State) and React Query (Server State). ",(0,s.jsx)(t.strong,{children:"Smart Models"})," combine state, computed properties, and actions into one reactive entity."]}),"\n",(0,s.jsx)(t.h3,{id:"1-define-model",children:"1. Define Model"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"import { defineModel } from '@braine/quantum-query';\n\nexport const TodoModel = defineModel({\n  // 1. Unified State\n  state: {\n    items: [] as string[],\n    filter: 'all', \n  },\n\n  // 2. Computed Properties (Auto-Memoized)\n  computed: {\n    activeCount() {\n      return this.items.length;\n    },\n    isEmpty() {\n      return this.items.length === 0;\n    }\n  },\n\n  // 3. Actions (Sync + Async + Optimistic)\n  actions: {\n    add(text: string) {\n      this.items.push(text); // Direct mutation (proxied)\n    },\n    async save() {\n       await api.post('/todos', { items: this.items });\n    }\n  }\n});\n"})}),"\n",(0,s.jsx)(t.h3,{id:"2-use-model",children:"2. Use Model"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-tsx",children:"import { useStore } from '@braine/quantum-query';\nimport { TodoModel } from './models/TodoModel';\n\nfunction TodoApp() {\n  // auto-subscribes ONLY to properties accessed in this component\n  const model = useStore(TodoModel); \n\n  return (\n    <div>\n      <h1>Active: {model.activeCount}</h1>\n      <button onClick={() => model.add(\"Ship it\")}>Add</button>\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"-enterprise-http-client",children:"\ud83c\udf10 Enterprise HTTP Client"}),"\n",(0,s.jsxs)(t.p,{children:["We built a fetch wrapper that matches ",(0,s.jsx)(t.strong,{children:"RTK Query"})," in power but keeps ",(0,s.jsx)(t.strong,{children:"Axios"})," simplicity. It includes ",(0,s.jsx)(t.strong,{children:"Automatic Deduplication"})," and ",(0,s.jsx)(t.strong,{children:"Retries"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"import { createHttpClient } from '@braine/quantum-query';\n\nexport const api = createHttpClient({\n  baseURL: 'https://api.myapp.com',\n  timeout: 5000, \n  retry: { retries: 3 }, // Exponential backoff for Network errors\n  \n  // Auth Handling (Auto-Refresh)\n  auth: {\n    getToken: () => localStorage.getItem('token'),\n    onTokenExpired: async () => {\n        const newToken = await refreshToken();\n        localStorage.setItem('token', newToken);\n        return newToken; // Automatically retries original request\n    }\n  }\n});\n\n// data is strictly typed!\nconst user = await api.get<User>('/me');\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"\ufe0f-data-integrity-runtime-safety",children:"\ud83d\udee1\ufe0f Data Integrity (Runtime Safety)"}),"\n",(0,s.jsxs)(t.p,{children:["Don't trust the backend. Validate it. We support ",(0,s.jsx)(t.strong,{children:"Zod"}),", ",(0,s.jsx)(t.strong,{children:"Valibot"}),", or ",(0,s.jsx)(t.strong,{children:"Yup"})," schemas directly in the hook."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"import { z } from 'zod';\n\nconst UserSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  role: z.enum(['admin', 'user'])\n});\n\nconst { data } = useQuery({\n   queryKey: ['user'],\n   queryFn: fetchUser,\n   schema: UserSchema // Throws descriptive error if API returns garbage\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"-plugin-system-middleware-",children:"\ud83d\udd0c Plugin System (Middleware) \ud83c\udd95"}),"\n",(0,s.jsx)(t.p,{children:"Inject logic into every request lifecycle (Logging, Analytics, Performance Monitoring)."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"import { queryCache } from '@braine/quantum-query';\n\nqueryCache.use({\n    name: 'logger',\n    onFetchStart: (key) => console.log('Fetching', key),\n    onFetchError: (key, error) => console.error(`Fetch failed for ${key}:`, error)\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"-persistence-adapter-",children:"\ud83d\udcbe Persistence Adapter \ud83c\udd95"}),"\n",(0,s.jsxs)(t.p,{children:["Persist your cache to ",(0,s.jsx)(t.code,{children:"localStorage"})," (or IndexedDB/AsyncStorage) automatically. Works offline."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"import { persistQueryClient, createLocalStoragePersister } from '@braine/quantum-query/persist';\n\npersistQueryClient({\n    queryClient: queryCache,\n    persister: createLocalStoragePersister(),\n    maxAge: 1000 * 60 * 60 * 24 // 24 hours\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"-documentation",children:"\ud83d\udcda Documentation"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"/api",children:"API Reference"})}),": Full method signatures and options."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"/recipes",children:"Recipes"})}),": Common patterns (Auth, Infinite Scroll, Optimistic UI)."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"/migration",children:"Migration Guide"})}),": Step-by-step guide from RTK Query / Redux."]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"-comparison",children:"\ud83c\udd9a Comparison"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Feature"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"RTK Query"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"TanStack Query"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Quantum-Query"})})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Architecture"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Redux (Store + Slices)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Observers"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Atomic Signals"})," \u2705"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Boilerplate"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"High (Provider + Store)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Medium"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Zero"})," \u2705"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Re-Renders"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Selector-based (O(n))"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Observer-based"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Signal-based (O(1))"})," \u2705"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Smart Models"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"\u274c (Requires Redux)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"\u274c"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Built-in"})," \u2705"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Bundle Size"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"~17kb"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"~13kb"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"~3kb"})," \u2705"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Deduplication"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Yes"})," \u2705"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Persistence"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"redux-persist"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Experimental"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Built-in First Class"})," \u2705"]})]})]})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"license",children:"License"}),"\n",(0,s.jsx)(t.p,{children:"MIT"})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,t,n){n.d(t,{R:()=>l,x:()=>o});var r=n(6540);const s={},i=r.createContext(s);function l(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);