"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[432],{4072(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"reference/QueryClient","title":"QueryClient","description":"The QueryClient is the central facade for the library. It orchestrates storage, remotes, and plugins.","source":"@site/docs/reference/QueryClient.md","sourceDirName":"reference","slug":"/reference/QueryClient","permalink":"/-braine-quantum-query/docs/reference/QueryClient","draft":false,"unlisted":false,"editUrl":"https://github.com/piyas-braine/-braine-quantum-query/tree/main/website/docs/reference/QueryClient.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Recipes","permalink":"/-braine-quantum-query/docs/recipes"},"next":{"title":"atom","permalink":"/-braine-quantum-query/docs/reference/atom"}}');var i=n(4848),s=n(8453);const a={},l="QueryClient",c={},d=[{value:"Methods",id:"methods",level:2},{value:"<code>fetch&amp;lt;T&amp;gt;(queryKey, queryFn, options)</code>",id:"fetchlttgtquerykey-queryfn-options",level:3},{value:"<code>set&amp;lt;T&amp;gt;(queryKey, data, options)</code>",id:"setlttgtquerykey-data-options",level:3},{value:"<code>invalidate(queryKey)</code>",id:"invalidatequerykey",level:3},{value:"<code>invalidateTags(tags: string[])</code>",id:"invalidatetagstags-string",level:3},{value:"<code>get&amp;lt;T&amp;gt;(queryKey)</code>",id:"getlttgtquerykey",level:3},{value:"<code>getSignal&amp;lt;T&amp;gt;(queryKey)</code>",id:"getsignallttgtquerykey",level:3},{value:"<code>prefetch(queryKey, data, options)</code>",id:"prefetchquerykey-data-options",level:3},{value:"<code>getStats()</code>",id:"getstats",level:3},{value:"Clean Architecture",id:"clean-architecture",level:2}];function o(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"queryclient",children:"QueryClient"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"QueryClient"})," is the central facade for the library. It orchestrates storage, remotes, and plugins."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",children:"import { QueryClient } from '@braine/quantum-query';\n\nconst queryClient = new QueryClient({\n  defaultStaleTime: 1000 * 60, // 1 minute\n  maxCacheSize: 500,\n});\n"})}),"\n",(0,i.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(t.h3,{id:"fetchlttgtquerykey-queryfn-options",children:(0,i.jsx)(t.code,{children:"fetch&lt;T&gt;(queryKey, queryFn, options)"})}),"\n",(0,i.jsx)(t.p,{children:"The primary method for triggering a network request. It handles deduplication and persistence automatically."}),"\n",(0,i.jsx)(t.h3,{id:"setlttgtquerykey-data-options",children:(0,i.jsx)(t.code,{children:"set&lt;T&gt;(queryKey, data, options)"})}),"\n",(0,i.jsx)(t.p,{children:"Manually update the cache with new data."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Options"}),": ",(0,i.jsx)(t.code,{children:"staleTime"}),", ",(0,i.jsx)(t.code,{children:"cacheTime"}),", ",(0,i.jsx)(t.code,{children:"tags"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"invalidatequerykey",children:(0,i.jsx)(t.code,{children:"invalidate(queryKey)"})}),"\n",(0,i.jsx)(t.p,{children:"Marks all queries matching the key as stale and triggers refetching for active observers."}),"\n",(0,i.jsx)(t.h3,{id:"invalidatetagstags-string",children:(0,i.jsx)(t.code,{children:"invalidateTags(tags: string[])"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"O(1) Operation."})," Instantly invalidates all queries associated with the provided tags."]}),"\n",(0,i.jsx)(t.h3,{id:"getlttgtquerykey",children:(0,i.jsx)(t.code,{children:"get&lt;T&gt;(queryKey)"})}),"\n",(0,i.jsx)(t.p,{children:"Synchronously get the current data from the cache (if it exists and is not expired)."}),"\n",(0,i.jsx)(t.h3,{id:"getsignallttgtquerykey",children:(0,i.jsx)(t.code,{children:"getSignal&lt;T&gt;(queryKey)"})}),"\n",(0,i.jsxs)(t.p,{children:["Returns the raw ",(0,i.jsx)(t.code,{children:"Signal"})," for the given key."]}),"\n",(0,i.jsx)(t.h3,{id:"prefetchquerykey-data-options",children:(0,i.jsx)(t.code,{children:"prefetch(queryKey, data, options)"})}),"\n",(0,i.jsx)(t.p,{children:"Seed the cache with data before it is needed."}),"\n",(0,i.jsx)(t.h3,{id:"getstats",children:(0,i.jsx)(t.code,{children:"getStats()"})}),"\n",(0,i.jsxs)(t.p,{children:["Returns an object containing cache metrics (",(0,i.jsx)(t.code,{children:"size"}),", ",(0,i.jsx)(t.code,{children:"keys"}),", ",(0,i.jsx)(t.code,{children:"tags"}),")."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"clean-architecture",children:"Clean Architecture"}),"\n",(0,i.jsxs)(t.p,{children:["Internally, the ",(0,i.jsx)(t.code,{children:"QueryClient"})," follows a decoupled architecture."]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Storage"}),": Handles memory, LRU, and expiration."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Remotes"}),": Handles network deduplication and retry logic."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"PluginManager"}),": Handles side effects and extensions."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,t,n){n.d(t,{R:()=>a,x:()=>l});var r=n(6540);const i={},s=r.createContext(i);function a(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);