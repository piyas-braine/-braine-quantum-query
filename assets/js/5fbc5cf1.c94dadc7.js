"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[624],{6439(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api","title":"API Reference","description":"Hooks","source":"@site/docs/api.md","sourceDirName":".","slug":"/api","permalink":"/-braine-quantum-query/api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Why Quantum Query?","permalink":"/-braine-quantum-query/comparison"},"next":{"title":"Recipes","permalink":"/-braine-quantum-query/recipes"}}');var r=s(4848),t=s(8453);const c={},d="API Reference",a={},l=[{value:"Hooks",id:"hooks",level:2},{value:"<code>useQuery&lt;T&gt;(options)</code>",id:"usequerytoptions",level:3},{value:"<code>useInfiniteQuery&lt;T&gt;(options)</code>",id:"useinfinitequerytoptions",level:3},{value:"Server-Side Rendering (SSR)",id:"server-side-rendering-ssr",level:2},{value:"<code>dehydrate(client: QueryCache)</code>",id:"dehydrateclient-querycache",level:3},{value:"<code>hydrate(client: QueryCache, state: DehydratedState)</code>",id:"hydrateclient-querycache-state-dehydratedstate",level:3},{value:"<code>&lt;HydrationBoundary state={state}&gt;</code>",id:"hydrationboundary-statestate",level:3},{value:"Core Classes",id:"core-classes",level:2},{value:"<code>QueryCache</code> (exported as <code>queryCache</code>)",id:"querycache-exported-as-querycache",level:3},{value:"Persistence",id:"persistence",level:2},{value:"<code>persistQueryClient(options)</code>",id:"persistqueryclientoptions",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,r.jsx)(n.h2,{id:"hooks",children:"Hooks"}),"\n",(0,r.jsx)(n.h3,{id:"usequerytoptions",children:(0,r.jsx)(n.code,{children:"useQuery<T>(options)"})}),"\n",(0,r.jsx)(n.p,{children:"Subscribes to a query and returns the current state."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Options"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"queryKey: any[]"}),": Unique identifier for the query."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"queryFn: () => Promise<T>"}),": Async function to fetch data."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"staleTime?: number"}),": Time in ms before data is considered stale (default: 0)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cacheTime?: number"}),": Time in ms unused data remains in cache (default: 5 mins)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enabled?: boolean"}),": Set to ",(0,r.jsx)(n.code,{children:"false"})," to disable automatic fetching."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"refetchOnWindowFocus?: boolean"}),": Refetch when window gains focus."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"schema?: Schema<T>"}),": Zod/Valibot schema for validation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"select?: (data: T) => unknown"}),": Transform data. ",(0,r.jsx)(n.strong,{children:"Memoized"})," to prevent re-renders."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tags?: string[]"}),": Array of tags for invalidation key grouping."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data: T | undefined"}),": The resolved data (or the result of ",(0,r.jsx)(n.code,{children:"select"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"isLoading: boolean"}),": True if no data exists."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"isFetching: boolean"}),": True if a network request is in flight."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"error: Error | null"}),": Error object if the last fetch failed."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"refetch: () => Promise<void>"}),": Manually trigger a fetch."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"useinfinitequerytoptions",children:(0,r.jsx)(n.code,{children:"useInfiniteQuery<T>(options)"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Options"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"queryKey"}),", ",(0,r.jsx)(n.code,{children:"queryFn"}),": Same as useQuery."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"getNextPageParam: (lastPage, allPages) => param"}),": Function to determine next page param."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"initialPageParam"}),": Initial parameter for the first page."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data: InfiniteData<T>"}),": Object containing ",(0,r.jsx)(n.code,{children:"{ pages: T[], pageParams: any[] }"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fetchNextPage"}),", ",(0,r.jsx)(n.code,{children:"hasNextPage"}),", ",(0,r.jsx)(n.code,{children:"isFetchingNextPage"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"server-side-rendering-ssr",children:"Server-Side Rendering (SSR)"}),"\n",(0,r.jsx)(n.h3,{id:"dehydrateclient-querycache",children:(0,r.jsx)(n.code,{children:"dehydrate(client: QueryCache)"})}),"\n",(0,r.jsx)(n.p,{children:"Serializes the current cache state into a JSON-serializable object."}),"\n",(0,r.jsx)(n.h3,{id:"hydrateclient-querycache-state-dehydratedstate",children:(0,r.jsx)(n.code,{children:"hydrate(client: QueryCache, state: DehydratedState)"})}),"\n",(0,r.jsx)(n.p,{children:"Restores a serialized state into the cache."}),"\n",(0,r.jsx)(n.h3,{id:"hydrationboundary-statestate",children:(0,r.jsx)(n.code,{children:"<HydrationBoundary state={state}>"})}),"\n",(0,r.jsx)(n.p,{children:"React component to hydrate the cache from server state for its children."}),"\n",(0,r.jsx)(n.h2,{id:"core-classes",children:"Core Classes"}),"\n",(0,r.jsxs)(n.h3,{id:"querycache-exported-as-querycache",children:[(0,r.jsx)(n.code,{children:"QueryCache"})," (exported as ",(0,r.jsx)(n.code,{children:"queryCache"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"The brain of the library. Can be used directly for prefetching or imperative updates."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".fetch<T>(key, fn)"}),": Fetches data with ",(0,r.jsx)(n.strong,{children:"Request Deduplication"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".set<T>(key, data)"}),": Manually set cache data (Optimistic Updates)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".invalidate(key)"}),": Soft invalidate queries matching the key/prefix."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".use(plugin)"}),": Register middleware."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"persistence",children:"Persistence"}),"\n",(0,r.jsx)(n.h3,{id:"persistqueryclientoptions",children:(0,r.jsx)(n.code,{children:"persistQueryClient(options)"})}),"\n",(0,r.jsx)(n.p,{children:"Persists cache to storage."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Options"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"queryClient"}),": The cache instance."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"persister"}),": Storage adapter (e.g., ",(0,r.jsx)(n.code,{children:"createLocalStoragePersister"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"maxAge"}),": Max age of persisted data in ms."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453(e,n,s){s.d(n,{R:()=>c,x:()=>d});var i=s(6540);const r={},t=i.createContext(r);function c(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);